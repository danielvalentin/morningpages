<?php defined('SYSPATH') or die('No direct script access.');class Model_Menu extends ORM {		protected $_belongs_to = array(		'menutype' => array()	);		protected $_has_many = array(		'items' => array('model'=>'Menu_Item')	);		public function has_items()	{		return (bool)$this->menu_items->count_all();	}		public function get_items()	{		return $this->menu_items->order_by('order','ASC')->find_all();	}		public function get_title()	{		return $this -> title;	}		/**	 * Deletes the menu and it's items	 * @return Bool parent::delete()	 */	public function delete()	{		if($this->items->count_all() > 0) foreach($this->items->find_all() as $item)		{			$item->delete();		}		return parent::delete();	}		public function info()	{		$items = $this			->items			->where('parent','=',0)			->find_all();		$menuitems = array();		if((bool)$items->count())		{			foreach($items as $item)			{				$menuitems[] = $item->info();			}		}		return array(			'id' => $this->id,			'menutype_id' => $this->menutype_id,			'title' => $this->title,			'menuitems' => $menuitems		);	}	}