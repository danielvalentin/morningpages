<?php defined('SYSPATH') or die('No direct script access.'); abstract class maintenance {		// Delete orphaned images older than 24 hours	/*public static function check_orphaned_images()	{		$imgs = ORM::factory('page_image')->where('page_id', '=', 0)->where('time', '<', (time()-86400))->find_all();		if((bool)$imgs->count()) foreach($imgs as $img)		{			$img->delete();		}	}*/		/**	 * Delete the visitors who's been inactive for 10 mins	 */	public static function delete_inactive_visitors()	{		DB::delete('visitors')->where('time', '<', (time()-60*10))->execute();	}		public static function empty_cms_js_cache()	{		$jsfiles = glob('modules/cms/media/cache/*.js');		if(is_array($jsfiles)) foreach($jsfiles as $file)		{			if(file_exists($file));			{				unlink($file);			}		}	}		public static function delete_old_carts()	{		$carts = ORM::factory('Cart')			->where('status','=','open')			->where(DB::expr('(`last_seen` + '.Date::MONTH.')'),'<', time())			->find_all();		if((bool)$carts->count())		{			foreach($carts as $cart)			{				$cart->delete();			}		}	}	}